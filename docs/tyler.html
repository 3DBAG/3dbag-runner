<!DOCTYPE html>
<html>
<head>
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.131/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.131/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
</head>
<body>
  <div id="cesiumContainer" style="width:100vw; height:100vh;"></div>
  <script>
    (async function() {
      // Load the AHN4 terrain with vertex normals
      const terrainProvider = await Cesium.CesiumTerrainProvider.fromUrl(
        'https://3d.kadaster.nl/3dtiles/ahn4',
        {
          requestVertexNormals: true,
          requestMetadata: false
        }
      );

      // Create the viewer with the terrainProvider option
      const viewer = new Cesium.Viewer("cesiumContainer", {
        terrainProvider
      });

      // Load your 3D Tileset
      Cesium.Cesium3DTileset.fromUrl("tempdir/output/tileset.json")
        .then(tileset => {
          viewer.scene.primitives.add(tileset);
          viewer.camera.viewBoundingSphere(
            tileset.boundingSphere,
            new Cesium.HeadingPitchRange(0, -0.5, 0)
          );
        })
        .catch(error => {
          console.error("Failed to load tileset:", error);
        });
    })();
  </script>
</body>
</html>